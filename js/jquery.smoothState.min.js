! function(t) {
    "use strict";
    "object" == typeof module && "object" == typeof module.exports ? t(require("jquery"), window, document) : t(jQuery, window, document)
}(function(t, e, n, o) {
    "use strict";
    if (!e.history.pushState) return t.fn.smoothState = function() {
        return this
    }, void(t.fn.smoothState.options = {});
    if (!t.fn.smoothState) {
        var r = t("html, body"),
            a = e.console,
            i = {
                isExternal: function(t) {
                    var n = t.match(/^([^:\/?#]+:)?(?:\/\/([^\/?#]*))?([^?#]+)?(\?[^#]*)?(#.*)?/);
                    return "string" == typeof n[1] && n[1].length > 0 && n[1].toLowerCase() !== e.location.protocol || "string" == typeof n[2] && n[2].length > 0 && n[2].replace(new RegExp(":(" + {
                        "http:": 80,
                        "https:": 443
                    }[e.location.protocol] + ")?$"), "") !== e.location.host
                },
                stripHash: function(t) {
                    return t.replace(/#.*/, "")
                },
                isHash: function(t, n) {
                    n = n || e.location.href;
                    var o = t.indexOf("#") > -1,
                        r = i.stripHash(t) === i.stripHash(n);
                    return o && r
                },
                translate: function(e) {
                    var n = {
                        dataType: "html",
                        type: "GET"
                    };
                    return e = "string" == typeof e ? t.extend({}, n, {
                        url: e
                    }) : t.extend({}, n, e)
                },
                shouldLoadAnchor: function(t, e, n) {
                    var r = t.prop("href");
                    return !(i.isExternal(r) || i.isHash(r) || t.is(e) || t.prop("target") || typeof n !== o && "" !== n && -1 === t.prop("href").search(n))
                },
                clearIfOverCapacity: function(t, e) {
                    return Object.keys || (Object.keys = function(t) {
                        var e, n = [];
                        for (e in t) Object.prototype.hasOwnProperty.call(t, e) && n.push(e);
                        return n
                    }), Object.keys(t).length > e && (t = {}), t
                },
                storePageIn: function(e, n, o, r, a, i) {
                    var s = t("<html></html>").append(t(o));
                    return void 0 === a && (a = {}), void 0 === i && (i = n), e[n] = {
                        status: "loaded",
                        title: s.find("title").first().text(),
                        html: s.find("#" + r),
                        doc: o,
                        state: a,
                        destUrl: i
                    }, e
                },
                triggerAllAnimationEndEvent: function(e, n) {
                    n = " " + n || "";
                    var o = 0;
                    e.on("animationstart webkitAnimationStart oanimationstart MSAnimationStart", function(n) {
                        t(n.delegateTarget).is(e) && (n.stopPropagation(), o++)
                    }), e.on("animationend webkitAnimationEnd oanimationend MSAnimationEnd", function(n) {
                        t(n.delegateTarget).is(e) && (n.stopPropagation(), 0 == --o && e.trigger("allanimationend"))
                    }), e.on("allanimationend" + n, function() {
                        o = 0, i.redraw(e)
                    })
                },
                redraw: function(t) {
                    t.height()
                }
            },
            s = function(s, l) {
                var c, u = t(s),
                    h = u.prop("id"),
                    d = null,
                    f = !1,
                    p = {},
                    g = {},
                    m = e.location.href,
                    v = function(t) {
                        (t = t || !1) && p.hasOwnProperty(t) ? delete p[t] : p = {}, u.data("smoothState").cache = p
                    },
                    y = function(e, n) {
                        n = n || t.noop;
                        var o = i.translate(e);
                        if (!(p = i.clearIfOverCapacity(p, l.cacheLength)).hasOwnProperty(o.url) || void 0 !== o.data) {
                            p[o.url] = {
                                status: "fetching"
                            };
                            var r = t.ajax(o);
                            r.done(function(t) {
                                i.storePageIn(p, o.url, t, h), u.data("smoothState").cache = p
                            }), r.fail(function() {
                                p[o.url].status = "error"
                            }), l.locationHeader && r.always(function(t, e, n) {
                                var r = (t.statusCode ? t : n).getResponseHeader(l.locationHeader);
                                r && (p[o.url].destUrl = r)
                            }), n && r.always(n)
                        }
                    },
                    S = function(o) {
                        var i = "#" + h,
                            s = p[o] ? t(p[o].html.html()) : null;
                        s.length ? (n.title = p[o].title, u.data("smoothState").href = o, l.loadingClass && r.removeClass(l.loadingClass), l.onReady.render(u, s), u.one("ss.onReadyEnd", function() {
                            f = !1, l.onAfter(u, s), l.scroll && function() {
                                if (d) {
                                    var e = t(d, u);
                                    if (e.length) {
                                        var n = e.offset().top;
                                        r.scrollTop(n)
                                    }
                                    d = null
                                }
                            }(), t(".listing-slider").not(".slick-initialized").slick(), t(".listing-three-column-slider").not(".slick-initialized").slick(), A(u)
                        }), e.setTimeout(function() {
                            u.trigger("ss.onReadyEnd")
                        }, l.onReady.duration)) : !s && l.debug && a ? a.warn("No element with an id of " + i + " in response from " + o + " in " + p) : e.location = o

                    },
                    w = function(n, o, s) {
                        var c = i.translate(n);
                        void 0 === o && (o = !0), void 0 === s && (s = !0);
                        var d = !1,
                            f = !1,
                            m = {
                                loaded: function() {
                                    var t = d ? "ss.onProgressEnd" : "ss.onStartEnd";
                                    if (f && d ? f && S(c.url) : u.one(t, function() {
                                            S(c.url), s || v(c.url)
                                        }), o) {
                                        var n = p[c.url].destUrl;
                                        g = l.alterChangeState({
                                            id: h
                                        }, p[c.url].title, n), p[c.url].state = g, e.history.pushState(g, p[c.url].title, n)
                                    }
                                    f && !s && v(c.url)
                                },
                                fetching: function() {
                                    d || (d = !0, u.one("ss.onStartEnd", function() {
                                        l.loadingClass && r.addClass(l.loadingClass), l.onProgress.render(u), e.setTimeout(function() {
                                            u.trigger("ss.onProgressEnd"), f = !0
                                        }, l.onProgress.duration)
                                    })), e.setTimeout(function() {
                                        p.hasOwnProperty(c.url) && m[p[c.url].status]()
                                    }, 10)
                                },
                                error: function() {
                                    l.debug && a ? a.log("There was an error loading: " + c.url) : e.location = c.url
                                }
                            };
                        p.hasOwnProperty(c.url) || y(c), l.onStart.render(u), e.setTimeout(function() {
                            l.scroll && (t("#navbar-toggler").removeClass("simple"), setTimeout(function() {
                                r.scrollTop(0)
                            }, 500)), u.trigger("ss.onStartEnd")
                        }, l.onStart.duration), m[p[c.url].status]()
                    },
                    E = function(e) {
                        var n, o = t(e.currentTarget);
                        i.shouldLoadAnchor(o, l.blacklist, l.hrefRegex) && !f && (e.stopPropagation(), n = i.translate(o.prop("href")), n = l.alterRequest(n), y(n))
                    },
                    b = function(e) {
                        var n = t(e.currentTarget);
                        if (!e.metaKey && !e.ctrlKey && i.shouldLoadAnchor(n, l.blacklist, l.hrefRegex) && (e.stopPropagation(), e.preventDefault(), !T())) {
                            k();
                            var o = i.translate(n.prop("href"));
                            f = !0, d = n.prop("hash"), o = l.alterRequest(o), l.onBefore(n, u), w(o)
                        }
                    },
                    C = function(e) {
                        var n = t(e.currentTarget);
                        if (!n.is(l.blacklist) && (e.preventDefault(), e.stopPropagation(), !T())) {
                            k();
                            var r = {
                                url: n.prop("action"),
                                data: n.serialize(),
                                type: n.prop("method")
                            };
                            f = !0, "get" === (r = l.alterRequest(r)).type.toLowerCase() && (r.url = r.url + "?" + r.data), l.onBefore(n, u), w(r, o, l.allowFormCaching)
                        }
                    },
                    P = 0,
                    T = function() {
                        var t = null === l.repeatDelay,
                            e = parseInt(Date.now()) > P;
                        return !(t || e)
                    },
                    k = function() {
                        P = parseInt(Date.now()) + parseInt(l.repeatDelay)
                    },
                    A = function(t) {
                        l.anchors && l.prefetch && t.find(l.anchors).not(l.prefetchBlacklist).on(l.prefetchOn, null, E)
                    };
                return l = t.extend({}, t.fn.smoothState.options, l), null === e.history.state ? (g = l.alterChangeState({
                    id: h
                }, n.title, m), e.history.replaceState(g, n.title, m)) : g = {}, i.storePageIn(p, m, n.documentElement.outerHTML, h, g), i.triggerAllAnimationEndEvent(u, "ss.onStartEnd ss.onProgressEnd ss.onEndEnd"), c = u, l.anchors && (c.on("click", l.anchors, b), A(c)), l.forms && c.on("submit", l.forms, C), {
                    href: m,
                    cache: p,
                    clear: v,
                    load: w,
                    fetch: y,
                    restartCSSAnimations: function() {
                        var t = u.prop("class");
                        u.removeClass(t), i.redraw(u), u.addClass(t)
                    }
                }
            };
        e.onpopstate = function(n) {
            if (null !== n.state) {
                var o = e.location.href,
                    r = t("#" + n.state.id).data("smoothState"),
                    a = r.href !== o && !i.isHash(o, r.href),
                    s = n.state !== r.cache[r.href].state;
                (a || s) && (s && r.clear(r.href), r.load(o, !1))
            }
        }, t.smoothStateUtility = i, t.fn.smoothState = function(e) {
            return this.each(function() {
                var n = this.tagName.toLowerCase();
                this.id && "body" !== n && "html" !== n && !t.data(this, "smoothState") ? t.data(this, "smoothState", new s(this, e)) : !this.id && a ? a.warn("Every smoothState container needs an id but the following one does not have one:", this) : "body" !== n && "html" !== n || !a || a.warn("The smoothstate container cannot be the " + this.tagName + " tag")
            })
        }, t.fn.smoothState.options = {
            debug: !1,
            anchors: "a",
            hrefRegex: "",
            forms: "form",
            allowFormCaching: !1,
            repeatDelay: 500,
            blacklist: ".no-smoothState",
            prefetch: !1,
            prefetchOn: "mouseover touchstart",
            prefetchBlacklist: ".no-prefetch",
            locationHeader: "X-SmoothState-Location",
            cacheLength: 3,
            loadingClass: "is-loading",
            scroll: !0,
            alterRequest: function(t) {
                return t
            },
            alterChangeState: function(t, e, n) {
                return t
            },
            onBefore: function(t, e) {},
            onStart: {
                duration: 0,
                render: function(t) {}
            },
            onProgress: {
                duration: 0,
                render: function(t) {}
            },
            onReady: {
                duration: 0,
                render: function(t, e) {
                    t.html(e)
                }
            },
            onAfter: function(t, e) {}
        }
    }
});